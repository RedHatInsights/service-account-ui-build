"use strict";(self.webpackChunksas_ui=self.webpackChunksas_ui||[]).push([[372],{88372:(e,t,n)=>{n.r(t),n.d(t,{DeleteServiceAccount:()=>h,default:()=>f});var i=n(9922),s=n(85893),a=n(93264),o=n(30645),c=n(65834),l=n(88603),r=n(75381),d=n(81318),u=n(50834),v=n(77459);const h=({onDelete:e,serviceAccount:t,title:n,hideModal:h})=>{const{t:f}=(0,o.useTranslation)(["kasTemporaryFixMe"]),p=(0,v.a)(),{kas:{apiBasePath:_}}=(0,u.useConfig)()||{kas:{}},{addAlert:g}=(0,u.useAlert)()||{},[k,w]=(0,a.useState)(!1),A=()=>{h()};return(0,s.jsx)(l.pf,Object.assign({isModalOpen:!0,handleModalToggle:A,title:n,confirmButtonProps:{onClick:()=>(t=>(0,i.__awaiter)(void 0,void 0,void 0,(function*(){var n;const i=null==t?void 0:t.id;if(void 0===i)throw new Error("service account id not defined");const s=yield null==p?void 0:p.sas_ui.getToken();if(s){const a=new d.SecurityApi(new d.Configuration({accessToken:s,basePath:_}));w(!0);try{yield a.deleteServiceAccountById(i).then((()=>{A(),w(!1),g&&g({title:f("serviceAccount.service_account_successfully_deleted",{name:null==t?void 0:t.name}),variant:c.AlertVariant.success}),e&&e()}))}catch(e){let t;(0,r.G6)(e)&&(t=null===(n=e.response)||void 0===n?void 0:n.data.reason),A(),w(!1),g&&g({title:f("common.something_went_wrong"),variant:c.AlertVariant.danger,description:t})}}})))(t),label:"Delete",isLoading:k}},{children:(0,s.jsxs)("p",{children:[(0,s.jsx)("b",{children:null==t?void 0:t.name})," ",f("serviceAccount.will_be_deleted")]})}))},f=h}}]);
//# sourceMappingURL=372.7c8f7f6a.js.map