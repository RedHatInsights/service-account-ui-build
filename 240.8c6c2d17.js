(self.webpackChunksas_ui=self.webpackChunksas_ui||[]).push([[240],{690:(e,t,n)=>{"use strict";t.zS={name:"KeyIcon",height:1024,width:1024,svgPath:"M802,320 C748.980664,320 706,277.019336 706,224 C706,170.980664 748.980664,128 802,128 C855.019336,128 898,170.980664 898,224 C898,277.019336 855.019336,320 802,320 M704,0 C527.3,0 384,143.3 384,320 C383.937788,357.490503 390.505571,394.696657 403.4,429.9 L0,824.1 L0,1024 L192,1024 L192,896 L320,896 L320,768 L448,768 L597,622 C596.906403,621.881923 596.838304,621.745723 596.8,621.6 C631.220126,633.811107 667.47802,640.034477 704,640 C880.7,640 1024,496.7 1024,320 C1024,143.3 880.7,0 704,0",yOffset:0,xOffset:0},t._m=n(35183).createIcon(t.zS),t.ZP=t._m},95979:()=>{},66912:()=>{},77903:()=>{},59204:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(85893),i=n(93264),a=n(65834),c=n(690),r=(n(77903),n(95979),n(66912),n(30645)),o=n(88603);const l=({serviceAccount:e,close:t})=>{const{t:n}=(0,r.useTranslation)(["kasTemporaryFixMe"]),[l,d]=(0,i.useState)(!1);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(o.C0,Object.assign({emptyStateProps:{variant:a.EmptyStateVariant.large},emptyStateIconProps:{icon:c.ZP},titleProps:{title:n("credentials_successfully_generated"),headingLevel:"h2",size:a.TitleSizes.lg}},{children:[(0,s.jsx)(a.TextContent,{children:(0,s.jsx)(a.Text,Object.assign({component:a.TextVariants.small,className:"pf-u-mt-lg"},{children:n("connect_to_the_kafka_instance_using_this_clientID_and_secret")}))}),(0,s.jsxs)(a.InputGroup,Object.assign({className:"pf-u-mt-lg"},{children:[(0,s.jsx)(a.InputGroupText,Object.assign({className:"mk--generate-credential__empty-state--input-group"},{children:n("client_id")})),(0,s.jsx)(a.ClipboardCopy,Object.assign({isReadOnly:!0,className:"pf-u-w-100","data-testid":"modalCredentials-copyClientID","data-ouia-component-id":"button-copy-clientID",textAriaLabel:n("client_id")},{children:null==e?void 0:e.client_id}))]})),(0,s.jsxs)(a.InputGroup,Object.assign({className:"pf-u-mt-md"},{children:[(0,s.jsx)(a.InputGroupText,Object.assign({className:"mk--generate-credential__empty-state--input-group"},{children:n("common.client_secret")})),(0,s.jsx)(a.ClipboardCopy,Object.assign({isReadOnly:!0,className:"pf-u-w-100","data-testid":"modalCredentials-copyClientSecret","data-ouia-component-id":"button-copy-clientSecret",textAriaLabel:n("common.client_secret")},{children:null==e?void 0:e.client_secret}))]})),(0,s.jsx)(a.TextContent,{children:(0,s.jsx)(a.Text,Object.assign({component:a.TextVariants.small,className:"pf-u-mt-lg"},{children:n("create_service_account_credentials_warning_message")}))}),(0,s.jsx)(a.Bullseye,Object.assign({className:"pf-u-mt-lg"},{children:(0,s.jsx)(a.Checkbox,{label:n("client_id_confirmation_checkbox_label"),isChecked:l,onChange:e=>{d(e)},id:"check-1",name:"check1",ouiaId:"checkbox"})})),(0,s.jsx)(a.Button,Object.assign({variant:"primary",isDisabled:!l,onClick:t,"data-testid":"modalCredentials-buttonClose",ouiaId:"button-close"},{children:n("close")}))]}))})}},99240:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ResetServiceAccountCredentials:()=>C,default:()=>h});var s,i=n(9922),a=n(85893),c=n(93264),r=n(30645),o=n(65834),l=n(75381),d=n(52648),u=n(81318),m=n(50834),p=n(77459),_=n(59204);!function(e){e.Confirm="Confirm",e.Credentials="Credentials"}(s||(s={}));const C=({serviceAccount:e,onReset:t,variant:n,title:C,hideModal:h})=>{const{t:g}=(0,r.useTranslation)(["kasTemporaryFixMe"]),x=(0,p.a)(),{kas:{apiBasePath:b}}=(0,m.useConfig)()||{kas:{}},{addAlert:j}=(0,m.useAlert)()||{},[f,v]=(0,c.useState)(!1),[y,k]=(0,c.useState)(s.Confirm),[O,w]=(0,c.useState)(),T=()=>(0,i.__awaiter)(void 0,void 0,void 0,(function*(){const n=yield null==x?void 0:x.sas_ui.getToken();if(n)try{const i=new u.SecurityApi(new u.Configuration({accessToken:n,basePath:b}));if(void 0===e.id)throw new Error("id must not be undefined");v(!0);const a=yield i.resetServiceAccountCreds(e.id);t&&t(),w(a.data),k(s.Credentials)}catch(e){(e=>{var t;let n;(0,l.G6)(e)&&(n=null===(t=e.response)||void 0===t?void 0:t.data.reason),j&&j({title:g("something_went_wrong"),variant:o.AlertVariant.danger,description:n})})(e),v(!1)}})),S=()=>{h()},A=()=>(0,a.jsx)("span",{dangerouslySetInnerHTML:{__html:g("serviceAccount.client_secret_will_be_reset",{serviceAccountId:e.name,client_id:e.client_id})}});return(0,a.jsx)(o.Modal,Object.assign({id:"reset-service-account-modal",variant:n,title:y===s.Confirm?C:"",isOpen:!0,onClose:S,appendTo:d.wx,actions:y===s.Confirm?[(0,a.jsx)(o.Button,Object.assign({variant:"primary",type:"submit",onClick:T,spinnerAriaValueText:g("common.submitting_request"),isLoading:f},{children:g("serviceAccount.reset")}),"create"),(0,a.jsx)(o.Button,Object.assign({variant:"link",onClick:S},{children:g("common.cancel")}),"cancel")]:[],showClose:!1},{children:(0,a.jsx)((()=>{if(y===s.Confirm)return(0,a.jsx)(A,{});if(void 0===O)throw new Error("resetServiceAccount must not be undefined");return(0,a.jsx)(_.Z,{serviceAccount:O,close:h})}),{})}))},h=C}}]);
//# sourceMappingURL=240.8c6c2d17.js.map