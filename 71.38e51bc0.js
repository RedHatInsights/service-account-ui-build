"use strict";(self.webpackChunksas_ui=self.webpackChunksas_ui||[]).push([[71],{75726:()=>{},64514:()=>{},4256:()=>{},93162:()=>{},27081:()=>{},63477:(e,t,c)=>{c.d(t,{y:()=>o});var n=c(85893),s=c(65834);const o=({bullseyeProps:e,spinnerProps:t})=>(0,n.jsx)(s.Bullseye,Object.assign({},e,{children:(0,n.jsx)(s.Spinner,Object.assign({},t))}))},1310:(e,t,c)=>{c.d(t,{C:()=>a});var n=c(85893),s=c(93264),o=c(30645),i=c(50834);const a=()=>{const{registerModals:e}=(0,i.useModal)();return e((()=>{const{t:e}=(0,o.useTranslation)(["kasTemporaryFixMe"]);return{[i.ModalType.KasCreateServiceAccount]:{lazyComponent:(0,s.lazy)((()=>c.e(587).then(c.bind(c,45587)))),variant:"medium",title:e("serviceAccount.create_a_service_account")},[i.ModalType.KasDeleteServiceAccount]:{lazyComponent:(0,s.lazy)((()=>c.e(372).then(c.bind(c,88372)))),title:e("serviceAccount.delete_service_account")+"?",variant:"small"},[i.ModalType.KasResetServiceAccountCredentials]:{lazyComponent:(0,s.lazy)((()=>c.e(240).then(c.bind(c,99240)))),title:`${e("serviceAccount.reset_service_account_credentials")}?`,variant:"medium"}}})()),(0,n.jsx)(n.Fragment,{})}},48364:(e,t,c)=>{c.d(t,{H:()=>A});var n=c(9922),s=c(85893),o=c(93264),i=c(50834),a=c(77459),r=c(81318),u=c(75381),l=c(65834),d=c(30645),M=c(88603),L=c(5569);const j=()=>{const{t:e}=(0,d.useTranslation)(["kasTemporaryFixMe"]);return(0,s.jsx)(l.PageSection,Object.assign({variant:l.PageSectionVariants.default,padding:{default:"noPadding"},isFilled:!0},{children:(0,s.jsx)(M.C0,{titleProps:{title:e("serviceAccount.unauthorized_access_to_service_accounts_title"),headingLevel:"h2"},emptyStateIconProps:{icon:L.ZP},emptyStateBodyProps:{body:e("serviceAccount.unauthorized_access_to_service_accounts_info")}})}))},C=({fetchServiceAccounts:e})=>{const{showModal:t}=(0,i.useModal)(),{t:c}=(0,d.useTranslation)(["kasTemporaryFixMe"]);return(0,s.jsx)(l.PageSection,Object.assign({padding:{default:"noPadding"},isFilled:!0},{children:(0,s.jsx)(M.C0,{emptyStateProps:{variant:M.jU.NoItems},titleProps:{title:c("serviceAccount.you_do_not_have_any_service_accounts_yet")},emptyStateBodyProps:{body:c("serviceAccount.create_service_account_to_get_started")},buttonProps:{title:c("serviceAccount.create_service_account"),onClick:()=>{t(i.ModalType.KasCreateServiceAccount,{onCreate:e})},"data-testid":"emptyStateStreams-buttonCreateServiceAccount"}})}))};var v=c(57472);const w=({onCreateServiceAccount:e})=>{const{t}=(0,d.useTranslation)(["kasTemporaryFixMe"]),c=[{item:(0,s.jsx)(l.Button,Object.assign({variant:"primary",onClick:e,"data-testid":"tableServiceAccounts-buttonCreateServiceAccount",ouiaId:"button-create-account"},{children:t("serviceAccount.create_service_account")}))}];return(0,s.jsx)(M.L5,{toolbarProps:{id:"instance-toolbar",collapseListedFiltersBreakpoint:"md",inset:{xl:"insetLg"}},toolbarItems:c})},y=({page:e,perPage:t,expectedTotal:c,serviceAccountsDataLoaded:n,serviceAccountItems:i,onResetCredentials:r,onDeleteServiceAccount:L,orderBy:j,setOrderBy:C,onCreateServiceAccount:y})=>{const{t:N}=(0,d.useTranslation)(["kasTemporaryFixMe"]),A=(0,a.a)(),[S,g]=(0,o.useState)(void 0),[T,p]=(0,o.useState)();(0,o.useEffect)((()=>{var e;null===(e=null==A?void 0:A.getUsername())||void 0===e||e.then((e=>g(e)))}),[A]),(0,o.useEffect)((()=>{var e;null===(e=null==A?void 0:A.isOrgAdmin())||void 0===e||e.then((e=>p(e)))}),[A]);const D=[{title:N("common.name")},{title:N("common.clientID")},{title:N("common.owner"),transforms:[(0,v.cellWidth)(20)]},{title:N("time_created")}],x=e=>{if(!n)return[];const t=e.originalData,c=void 0!==S&&t.created_by===S||void 0!==T&&!0===T;let s={};c||(s={tooltip:!0,isDisabled:!0,style:{pointerEvents:"auto",cursor:"default"}});const o=[Object.assign(Object.assign({title:N("common.reset_credentials"),id:"reset-credentials","data-testid":"tableServiceAccounts-actionResetCredentials","data-ouia-component-id":"kebab-menu-reset-creds",onClick:e=>c&&((e,t)=>{var c,n,s,o;r&&r(t),null===(o=null===(s=null===(n=null===(c=null==e?void 0:e.target)||void 0===c?void 0:c.parentElement)||void 0===n?void 0:n.parentElement)||void 0===s?void 0:s.previousSibling)||void 0===o||o.focus()})(e,t)},s),{tooltipProps:{position:"left",content:N("serviceAccount.no_permission_to_reset_service_account")}}),Object.assign(Object.assign({title:N("serviceAccount.delete_service_account"),id:"delete-account","data-testid":"tableServiceAccounts-actionDeleteAccount","data-ouia-component-id":"kebab-menu-delete-sa",onClick:e=>c&&((e,t)=>{var c,n,s,o;L&&L(t),null===(o=null===(s=null===(n=null===(c=null==e?void 0:e.target)||void 0===c?void 0:c.parentElement)||void 0===n?void 0:n.parentElement)||void 0===s?void 0:s.previousSibling)||void 0===o||o.focus()})(e,t)},s),{tooltipProps:{position:"left",content:N("serviceAccount.no_permission_to_delete_service_account")}})];return o},m=e=>{switch(e.toLowerCase()){case"name":return 0;case"client_id":return 1;case"owner":return 2;case"description":return 3;case"created_at":return 4;default:return}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w,{onCreateServiceAccount:y}),(0,s.jsx)(M.wR,{tableProps:{cells:D,rows:(()=>{const o=[],a=(0,u.o8)(e,t,c);return n?(null==i||i.forEach((e=>{const{name:t,created_by:c,client_id:n,created_at:s}=e;o.push({cells:[t,n,c,{title:(0,u.L0)(s,N("ago"))}],originalData:e})})),o):(0,u.vK)({loadingCount:a,skeleton:(0,s.jsx)(l.Skeleton,{}),length:D.length})})(),"aria-label":N("serviceAccount.service_account_list"),actionResolver:e=>x(e),onSort:(e,t,c)=>{C&&C(`${(e=>{switch(e){case 0:return"name";case 1:return"client_id";case 2:return"owner";case 3:return"description";case 4:return"created_at";default:return""}})(t)} ${c}`)},sortBy:(()=>{const e=(null==j?void 0:j.split(" "))||[];if(e.length>1)return{index:m(e[0]),direction:e[1]===v.SortByDirection.asc?v.SortByDirection.asc:v.SortByDirection.desc}})(),ouiaId:"table"}}),i&&(null==i?void 0:i.length)<1&&n&&(0,s.jsx)(M.C0,{emptyStateProps:{variant:M.jU.NoResult},titleProps:{title:N("no_results_found")},emptyStateBodyProps:{body:N("adjust_your_filters_and_try_again")}})]})},N=({fetchServiceAccounts:e,serviceAccountItems:t})=>{const{showModal:c}=(0,i.useModal)(),{showModal:n}=(0,i.useModal)(),{showModal:a}=(0,i.useModal)(),[r,u]=(0,o.useState)("name asc"),{page:d=1,perPage:L=10}=(0,M.h0)()||{};return(0,s.jsx)(l.PageSection,Object.assign({className:"mk--main-page__page-section--table pf-m-padding-on-xl",variant:l.PageSectionVariants.default,padding:{default:"noPadding"},"data-ouia-component-id":"page-ServiceAccounts"},{children:(0,s.jsx)(l.Card,{children:(0,s.jsx)(y,{page:d,perPage:L,expectedTotal:0,serviceAccountsDataLoaded:!0,serviceAccountItems:t,orderBy:r,setOrderBy:u,onResetCredentials:e=>{c(i.ModalType.KasResetServiceAccountCredentials,{serviceAccount:e})},onDeleteServiceAccount:t=>{a(i.ModalType.KasDeleteServiceAccount,{serviceAccount:t,onDelete:e})},onCreateServiceAccount:()=>{n(i.ModalType.KasCreateServiceAccount,{onCreate:e})}})})}))},A=()=>{const e=(0,a.a)(),t=(0,i.useConfig)(),[c,d]=(0,o.useState)(),[L,v]=(0,o.useState)(!1),w=(0,o.useCallback)((()=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){var c;const n=yield null==e?void 0:e.sas_ui.getToken();if(n&&t)try{const e=new r.SecurityApi(new r.Configuration({accessToken:n,basePath:null===(c=null==t?void 0:t.ams)||void 0===c?void 0:c.apiBasePath}));yield e.getServiceAccounts().then((e=>{const t=null==e?void 0:e.data,c=(null==t?void 0:t.items)||[],n=null==c?void 0:c.sort(((e,t)=>e.created_at&&t.created_at?t.created_at.localeCompare(e.created_at):-1));d(n)}))}catch(e){e instanceof Error&&(e=>{var t,c;let n;(0,u.G6)(e)&&(n=null===(c=null===(t=e.response)||void 0===t?void 0:t.data)||void 0===c?void 0:c.code),n===u.SM.UNAUTHORIZED_USER&&v(!0)})(e)}}))),[e,t]);return(0,o.useEffect)((()=>{w()}),[w]),L?(0,s.jsx)(j,{}):void 0===c?(0,s.jsx)(l.PageSection,Object.assign({variant:l.PageSectionVariants.light,padding:{default:"noPadding"}},{children:(0,s.jsx)(M.yR,{})})):c.length<1?(0,s.jsx)(C,{fetchServiceAccounts:w}):(0,s.jsx)(N,{fetchServiceAccounts:w,serviceAccountItems:c})}},78261:(e,t,c)=>{c.d(t,{G6:()=>n.isServiceApiError,SM:()=>s});var n=c(81318);const s={UNAUTHORIZED_USER:n.APIErrorCodes.ERROR_4}},52648:(e,t,c)=>{c.d(t,{JB:()=>i,L0:()=>u,Nw:()=>a,Od:()=>n,o8:()=>r,vK:()=>d,wx:()=>l});var n,s,o=c(49316);!function(e){e.READY="ready",e.ACCEPTED="accepted",e.PREPARING="preparing",e.PROVISIONING="provisioning",e.FAILED="failed",e.DEPROVISION="deprovision",e.DELETED="deleting"}(n||(n={})),function(e){e.eval="eval",e.standard="standard",e.developer="developer"}(s||(s={}));const i=32,a=50,r=(e,t,c)=>{let n=t;if(c&&c>0){e===(c%t!=0?Math.floor(c/t)+1:Math.floor(c/t))&&(n=c>t?c%t==0?t:c%t:c)}return 0!==n?n:t},u=(e,t)=>(e="string"==typeof e?new Date(e):e,(0,o.Z)(e,new Date)+" "+t),l=()=>document.getElementById("chrome-app-render-root")||document.body,d=({loadingCount:e,skeleton:t,length:c})=>{const n=[],s=[];for(let e=0;e<c;e++)s.push({title:t});for(let t=0;t<e;t++)n.push({cells:s});return n}},13168:(e,t,c)=>{c.d(t,{Z:()=>n});const n="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuNCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMDAgMTA5IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDAgMTA5OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6bm9uZTtzdHJva2U6IzZBNkU3MztzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLWRhc2hhcnJheTozLDU7fQoJLnN0MXtmaWxsOiNGRkZGRkY7c3Ryb2tlOiM2QTZFNzM7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30KCS5zdDJ7ZmlsbDojNkE2RTczO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTEyLjUsOTYuNWMzLTMzLDE3LjQtMzUuOCwzOC0yNGMxOS4xLDExLDM2LTguMSwyMS0yN2MtMTUuNC0xOS40LTgtMjMtOC0yMyIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTMsMjV2NTAgTTI3LjgsNzEuOFYxMDQgTTI3LjgsMTV2NDcuNiBNNDIuNiw3NHYzNCBNNDIuNiwxMHY1NC4yIE01Ny40LDc5LjJWMTA4IE01Ny40LDMydjM4IE03Mi4yLDc3djI3CgkgTTcyLjIsNTQuOHY5LjUgTTcyLjIsMjl2MTAuMiBNODcsMjV2NjggTTU2LDIyLjVsLTQwLTAuMiBNNTkuNiwzNy4xTDUsMzcuMSBNNTkuNiwzNy4xIE05NSwzNy4xbC0yNC4xLDAgTTcwLjQsNTEuOUwxLDUxLjkKCSBNNzAuNCw1MS45IE04MC44LDUxLjkgTTk5LDUxLjlsLTE4LjIsMCBNMTguNiw2Ni42TDEsNjYuNiBNNzAuNCw2Ni42bC0yMS45LDAgTTk5LDY2LjZsLTE3LjksMCBNMTAuNSw4MS40SDYgTTk1LDgxLjRsLTc1LDAKCSBNODQsOTYuMmwtNjcsMCIvPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik04MS4zLDE1LjdjLTAuOSwxLjUtMi4xLDIuNy0zLjYsMy42Yy0xLjUsMC45LTMuMiwxLjMtNSwxLjNzLTMuNC0wLjQtNS0xLjNjLTEuNS0wLjktMi43LTIuMS0zLjYtMy42CgkJYy0wLjktMS41LTEuMy0zLjItMS4zLTVzMC40LTMuNCwxLjMtNWMwLjktMS41LDIuMS0yLjcsMy42LTMuNmMxLjUtMC45LDMuMi0xLjMsNS0xLjNzMy40LDAuNCw1LDEuM2MxLjUsMC45LDIuNywyLjEsMy42LDMuNgoJCWMwLjksMS41LDEuMywzLjIsMS4zLDVTODIuMiwxNC4yLDgxLjMsMTUuN3ogTTcwLjMsNC44Yy0wLjcsMC40LTEuNCwxLTEuOSwxLjljLTAuMSwwLjEtMC4xLDAuMi0wLjEsMC4zYzAsMC4xLDAuMSwwLjIsMC4yLDAuMwoJCWwxLjQsMWMwLjEsMC4xLDAuMiwwLjEsMC4zLDAuMWMwLjEsMCwwLjItMC4xLDAuMy0wLjJjMC40LTAuNSwwLjgtMC45LDEtMWMwLjQtMC4zLDAuOC0wLjQsMS4zLTAuNGMwLjUsMCwwLjksMC4xLDEuMywwLjQKCQljMC40LDAuMywwLjYsMC42LDAuNiwwLjljMCwwLjMtMC4xLDAuNS0wLjQsMC44Yy0wLjIsMC4xLTAuNSwwLjMtMC45LDAuNmwtMC4xLDBjLTAuNywwLjQtMS4xLDAuNy0xLjQsMWMtMC41LDAuNS0wLjcsMS4xLTAuNywxLjgKCQl2MC4yYzAsMC4xLDAsMC4yLDAuMSwwLjNjMC4xLDAuMSwwLjIsMC4xLDAuMywwLjFoMi4yYzAuMSwwLDAuMiwwLDAuMy0wLjFjMC4xLTAuMSwwLjEtMC4yLDAuMS0wLjN2MGMwLTAuMiwwLjEtMC40LDAuMy0wLjYKCQljMC4xLTAuMSwwLjQtMC4zLDAuOC0wLjVjMC43LTAuNCwxLjItMC44LDEuNS0xLjFjMC41LTAuNiwwLjgtMS4zLDAuOC0yLjFjMC0wLjctMC4yLTEuNC0wLjctMi4xcy0xLTEuMS0xLjgtMS41cy0xLjUtMC41LTIuMi0wLjUKCQlDNzIsNC4yLDcxLjEsNC40LDcwLjMsNC44eiBNNzEuNSwxNC42Yy0wLjQsMC40LTAuNSwwLjgtMC41LDEuM3MwLjIsMC45LDAuNSwxLjNzMC44LDAuNSwxLjMsMC41czAuOS0wLjIsMS4zLTAuNXMwLjUtMC44LDAuNS0xLjMKCQlzLTAuMi0wLjktMC41LTEuM3MtMC44LTAuNS0xLjMtMC41UzcxLjgsMTQuMiw3MS41LDE0LjZ6Ii8+CjwvZz4KPC9zdmc+Cg=="}}]);
//# sourceMappingURL=71.38e51bc0.js.map